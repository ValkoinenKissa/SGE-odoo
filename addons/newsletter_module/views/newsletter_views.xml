<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
<!-- Tree View for Subscriptions -->
<record id="view_newsletter_subscription_tree" model="ir.ui.view">
   <field name="name">newsletter.subscription.tree</field>
   <field name="model">newsletter.subscription</field>
   <field name="arch" type="xml">
       <list>
           <field name="name"/>
           <field name="email"/>
           <field name="is_active" widget="boolean_button"/>
           <field name="subscription_date"/>
           <field name="category_id"/>
       </list>
   </field>
</record>
<!-- Form View for Subscriptions -->
<record id="view_newsletter_subscription_form" model="ir.ui.view">
   <field name="name">newsletter.subscription.form</field>
   <field name="model">newsletter.subscription</field>
   <field name="arch" type="xml">
       <form>
           <header>
               <button name="action_activate" string="Activate" type="object" class="oe_highlight" invisible="is_active == True"/>
               <button name="action_deactivate" string="Deactivate"
                       type="object" invisible="is_active == False"/>
           </header>
           <sheet>
               <group>
                   <group>
                       <field name="name"/>
                       <field name="email"/>
                       <field name="is_active"/>
                   </group>
                   <group>
                       <field name="subscription_date"/>
                       <field name="category_id"/>
                       <field name="source"/>
                   </group>
               </group>
               <div class="oe_chatter">
                   <field name="message_ids" widget="mail_thread"/>
               </div>
           </sheet>
       </form>
   </field>
</record>
<!-- Action and Menu Items -->
<record id="action_newsletter_subscription" model="ir.actions.act_window">
   <field name="name">Newsletter Subscriptions</field>
   <field name="res_model">newsletter.subscription</field>
   <field name="view_mode">list,form</field>
</record>
<menuitem id="menu_newsletter_root" name="Newsletter"/>
<menuitem id="menu_newsletter_subscriptions" name="Subscriptions" parent="menu_newsletter_root" action="action_newsletter_subscription"/>
<!-- Category Views -->
<record id="view_newsletter_category_tree" model="ir.ui.view">
   <field name="name">newsletter.category.tree</field>
   <field name="model">newsletter.category</field>
   <field name="arch" type="xml">
       <list>
           <field name="name"/>
           <field name="code"/>
           <field name="subscriber_count"/>
       </list>
   </field>
</record>
<record id="view_newsletter_category_form" model="ir.ui.view">
   <field name="name">newsletter.category.form</field>
   <field name="model">newsletter.category</field>
   <field name="arch" type="xml">
       <form>
           <sheet>
               <group>
                   <field name="name"/>
                   <field name="code"/>
                   <field name="subscriber_count"/>
               </group>
               <field name="subscription_ids">
                   <list>
                       <field name="name"/>
                       <field name="email"/>
                       <field name="subscription_date"/>
                   </list>
               </field>
           </sheet>
       </form>
   </field>
</record>
   </data>
</odoo>
